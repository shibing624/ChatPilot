import{s as ke,a as T,f as s,M as ye,d as p,c as I,g as o,h as b,N as q,j as e,i as se,r as t,P as ie,u as K,C as ce,K as Me,v as be,w as de,l as ve,z as pe,m as ue,A as he,n as me,p as Te}from"../chunks/scheduler.161605a7.js";import{e as fe}from"../chunks/each.65aa5674.js";import{S as Ie,i as Ce}from"../chunks/index.acd0f037.js";import{a as ge}from"../chunks/Toaster.svelte_svelte_type_style_lang.51e71bae.js";import{f as Ee}from"../chunks/FileSaver.min.898eb36f.js";import{p as ae,W as He}from"../chunks/index.7deef04d.js";import{d as Le,g as we,c as Ve}from"../chunks/index.442c1a07.js";import{g as De}from"../chunks/navigation.73b32ac1.js";new TextEncoder;function xe(r,m,g){const u=r.slice();return u[18]=m[g],u}function _e(r){let m,g,u,w,i,x=r[18].command+"",V,B,_,k=r[18].title+"",H,O,z,c,C,f,j,R,W,L,l='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg>',P,h,d='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M7.217 10.907a2.25 2.25 0 100 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186l9.566-5.314m-9.566 7.5l9.566 5.314m0 0a2.25 2.25 0 103.935 2.186 2.25 2.25 0 00-3.935-2.186zm0-12.814a2.25 2.25 0 103.933-2.185 2.25 2.25 0 00-3.933 2.185z"></path></svg>',y,D,N='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"></path></svg>',Q,G,U;function ee(){return r[10](r[18])}function Y(){return r[11](r[18])}function Z(){return r[12](r[18])}return{c(){m=s("div"),g=s("div"),u=s("a"),w=s("div"),i=s("div"),V=ve(x),B=T(),_=s("div"),H=ve(k),z=T(),c=s("div"),C=s("a"),f=pe("svg"),j=pe("path"),W=T(),L=s("button"),L.innerHTML=l,P=T(),h=s("button"),h.innerHTML=d,y=T(),D=s("button"),D.innerHTML=N,Q=T(),this.h()},l(S){m=o(S,"DIV",{class:!0});var M=b(m);g=o(M,"DIV",{class:!0});var $=b(g);u=o($,"A",{href:!0});var J=b(u);w=o(J,"DIV",{class:!0});var v=b(w);i=o(v,"DIV",{class:!0});var n=b(i);V=ue(n,x),n.forEach(p),B=I(v),_=o(v,"DIV",{class:!0});var A=b(_);H=ue(A,k),A.forEach(p),v.forEach(p),J.forEach(p),$.forEach(p),z=I(M),c=o(M,"DIV",{class:!0});var a=b(c);C=o(a,"A",{class:!0,type:!0,href:!0});var F=b(C);f=he(F,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var E=b(f);j=he(E,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),b(j).forEach(p),E.forEach(p),F.forEach(p),W=I(a),L=o(a,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),q(L)!=="svelte-16kw0ym"&&(L.innerHTML=l),P=I(a),h=o(a,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),q(h)!=="svelte-5ks7om"&&(h.innerHTML=d),y=I(a),D=o(a,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),q(D)!=="svelte-1fo01oc"&&(D.innerHTML=N),a.forEach(p),Q=I(M),M.forEach(p),this.h()},h(){e(i,"class","font-bold"),e(_,"class","text-xs overflow-hidden text-ellipsis line-clamp-1"),e(w,"class","flex-1 self-center pl-5"),e(u,"href",O=`/prompts/edit?command=${encodeURIComponent(r[18].command)}`),e(g,"class","flex flex-1 space-x-4 cursor-pointer w-full"),e(j,"stroke-linecap","round"),e(j,"stroke-linejoin","round"),e(j,"d","M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"),e(f,"xmlns","http://www.w3.org/2000/svg"),e(f,"fill","none"),e(f,"viewBox","0 0 24 24"),e(f,"stroke-width","1.5"),e(f,"stroke","currentColor"),e(f,"class","w-4 h-4"),e(C,"class","self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),e(C,"type","button"),e(C,"href",R=`/prompts/edit?command=${encodeURIComponent(r[18].command)}`),e(L,"class","self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),e(L,"type","button"),e(h,"class","self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),e(h,"type","button"),e(D,"class","self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),e(D,"type","button"),e(c,"class","flex flex-row space-x-1 self-center"),e(m,"class","flex space-x-4 cursor-pointer w-full px-3 py-2 dark:hover:bg-white/5 hover:bg-black/5 rounded-xl")},m(S,M){se(S,m,M),t(m,g),t(g,u),t(u,w),t(w,i),t(i,V),t(w,B),t(w,_),t(_,H),t(m,z),t(m,c),t(c,C),t(C,f),t(f,j),t(c,W),t(c,L),t(c,P),t(c,h),t(c,y),t(c,D),t(m,Q),G||(U=[K(L,"click",ee),K(h,"click",Y),K(D,"click",Z)],G=!0)},p(S,M){r=S,M&18&&x!==(x=r[18].command+"")&&me(V,x),M&18&&k!==(k=r[18].title+"")&&me(H,k),M&18&&O!==(O=`/prompts/edit?command=${encodeURIComponent(r[18].command)}`)&&e(u,"href",O),M&18&&R!==(R=`/prompts/edit?command=${encodeURIComponent(r[18].command)}`)&&e(C,"href",R)},d(S){S&&p(m),G=!1,be(U)}}}function Be(r){let m,g,u,w,i,x,V='<div class="text-2xl font-semibold self-center">My Prompts</div>',B,_,k,H,O='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',z,c,C,f,j='<a class="px-2 py-2 rounded-xl border border-gray-200 dark:border-gray-600 dark:border-0 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 transition font-medium text-sm flex items-center space-x-1" href="/prompts/create"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"></path></svg></a>',R,W,L,l,P,h,d,y,D,N,Q='<div class="self-center mr-2 font-medium">Import Prompts</div> <div class="self-center"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z" clip-rule="evenodd"></path></svg></div>',G,U,ee='<div class="self-center mr-2 font-medium">Export Prompts</div> <div class="self-center"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z" clip-rule="evenodd"></path></svg></div>',Y,Z,S='<div class="text-2xl font-semibold mb-3">Made by OpenWebUI Community</div> <a class="flex space-x-4 cursor-pointer w-full mb-3 px-3 py-2" href="https://openwebui.com/?type=prompts" target="_blank"><div class="self-center w-10"><div class="w-full h-10 flex justify-center rounded-full bg-transparent dark:bg-gray-700 border border-dashed border-gray-200"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6"><path fill-rule="evenodd" d="M12 3.75a.75.75 0 01.75.75v6.75h6.75a.75.75 0 010 1.5h-6.75v6.75a.75.75 0 01-1.5 0v-6.75H4.5a.75.75 0 010-1.5h6.75V4.5a.75.75 0 01.75-.75z" clip-rule="evenodd"></path></svg></div></div> <div class="self-center"><div class="font-bold">Discover a prompt</div> <div class="text-sm">Discover, download, and explore custom prompts</div></div></a>',M,$;document.title=m=`
		Prompts | ${r[3]}
	`;let J=fe(r[4].filter(r[9])),v=[];for(let n=0;n<J.length;n+=1)v[n]=_e(xe(r,J,n));return{c(){g=T(),u=s("div"),w=s("div"),i=s("div"),x=s("div"),x.innerHTML=V,B=T(),_=s("div"),k=s("div"),H=s("div"),H.innerHTML=O,z=T(),c=s("input"),C=T(),f=s("div"),f.innerHTML=j,R=T(),W=s("hr"),L=T(),l=s("div");for(let n=0;n<v.length;n+=1)v[n].c();P=T(),h=s("div"),d=s("div"),y=s("input"),D=T(),N=s("button"),N.innerHTML=Q,G=T(),U=s("button"),U.innerHTML=ee,Y=T(),Z=s("div"),Z.innerHTML=S,this.h()},l(n){ye("svelte-96p4ao",document.head).forEach(p),g=I(n),u=o(n,"DIV",{class:!0});var a=b(u);w=o(a,"DIV",{class:!0});var F=b(w);i=o(F,"DIV",{class:!0});var E=b(i);x=o(E,"DIV",{class:!0,"data-svelte-h":!0}),q(x)!=="svelte-1ubna6o"&&(x.innerHTML=V),B=I(E),_=o(E,"DIV",{class:!0});var te=b(_);k=o(te,"DIV",{class:!0});var re=b(k);H=o(re,"DIV",{class:!0,"data-svelte-h":!0}),q(H)!=="svelte-kinl2y"&&(H.innerHTML=O),z=I(re),c=o(re,"INPUT",{class:!0,placeholder:!0}),re.forEach(p),C=I(te),f=o(te,"DIV",{"data-svelte-h":!0}),q(f)!=="svelte-md02wv"&&(f.innerHTML=j),te.forEach(p),R=I(E),W=o(E,"HR",{class:!0}),L=I(E),l=o(E,"DIV",{class:!0});var oe=b(l);for(let le=0;le<v.length;le+=1)v[le].l(oe);oe.forEach(p),P=I(E),h=o(E,"DIV",{class:!0});var ne=b(h);d=o(ne,"DIV",{class:!0});var X=b(d);y=o(X,"INPUT",{id:!0,type:!0,accept:!0}),D=I(X),N=o(X,"BUTTON",{class:!0,"data-svelte-h":!0}),q(N)!=="svelte-1yqj11j"&&(N.innerHTML=Q),G=I(X),U=o(X,"BUTTON",{class:!0,"data-svelte-h":!0}),q(U)!=="svelte-11iwnxy"&&(U.innerHTML=ee),X.forEach(p),ne.forEach(p),Y=I(E),Z=o(E,"DIV",{class:!0,"data-svelte-h":!0}),q(Z)!=="svelte-r4fba2"&&(Z.innerHTML=S),E.forEach(p),F.forEach(p),a.forEach(p),this.h()},h(){e(x,"class","mb-6 flex justify-between items-center"),e(H,"class","self-center ml-1 mr-3"),e(c,"class","w-full text-sm pr-4 py-1 rounded-r-xl outline-none bg-transparent"),e(c,"placeholder","Search Prompt"),e(k,"class","flex flex-1"),e(_,"class","flex w-full space-x-2"),e(W,"class","dark:border-gray-700 my-2.5"),e(l,"class","my-3 mb-5"),e(y,"id","prompts-import-input"),e(y,"type","file"),e(y,"accept",".json"),y.hidden=!0,e(N,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),e(U,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),e(d,"class","flex space-x-2"),e(h,"class","flex justify-end w-full mb-3"),e(Z,"class","my-16"),e(i,"class","max-w-2xl mx-auto w-full px-3 md:px-0 my-10"),e(w,"class","flex flex-col justify-between w-full overflow-y-auto"),e(u,"class","min-h-screen max-h-[100dvh] w-full flex justify-center dark:text-white")},m(n,A){se(n,g,A),se(n,u,A),t(u,w),t(w,i),t(i,x),t(i,B),t(i,_),t(_,k),t(k,H),t(k,z),t(k,c),ie(c,r[1]),t(_,C),t(_,f),t(i,R),t(i,W),t(i,L),t(i,l);for(let a=0;a<v.length;a+=1)v[a]&&v[a].m(l,null);t(i,P),t(i,h),t(h,d),t(d,y),r[13](y),t(d,D),t(d,N),t(d,G),t(d,U),t(i,Y),t(i,Z),M||($=[K(c,"input",r[8]),K(y,"change",r[14]),K(y,"change",r[15]),K(N,"click",r[16]),K(U,"click",r[17])],M=!0)},p(n,[A]){if(A&8&&m!==(m=`
		Prompts | ${n[3]}
	`)&&(document.title=m),A&2&&c.value!==n[1]&&ie(c,n[1]),A&210){J=fe(n[4].filter(n[9]));let a;for(a=0;a<J.length;a+=1){const F=xe(n,J,a);v[a]?v[a].p(F,A):(v[a]=_e(F),v[a].c(),v[a].m(l,null))}for(;a<v.length;a+=1)v[a].d(1);v.length=J.length}},i:ce,o:ce,d(n){n&&(p(g),p(u)),Me(v,n),r[13](null),M=!1,be($)}}}function je(r,m,g){let u,w;de(r,He,l=>g(3,u=l)),de(r,ae,l=>g(4,w=l));const{saveAs:i}=Ee;let x="",V="",B;const _=async l=>{ge.success("Redirecting you to OpenWebUI Community");const P="https://openwebui.com",h=await window.open(`${P}/prompts/create`,"_blank");window.addEventListener("message",d=>{d.origin===P&&d.data==="loaded"&&h.postMessage(JSON.stringify(l),"*")},!1)},k=async l=>{await Le(localStorage.token,l),await ae.set(await we(localStorage.token))};function H(){V=this.value,g(1,V)}const O=l=>V===""||l.command.includes(V),z=l=>{sessionStorage.prompt=JSON.stringify(l),De("/prompts/create")},c=l=>{_(l)},C=l=>{k(l.command)};function f(l){Te[l?"unshift":"push"](()=>{B=l,g(2,B)})}function j(){x=this.files,g(0,x)}return[x,V,B,u,w,i,_,k,H,O,z,c,C,f,j,()=>{console.log(x);const l=new FileReader;l.onload=async P=>{const h=JSON.parse(P.target.result);console.log(h);for(const d of h)await Ve(localStorage.token,d.command.charAt(0)==="/"?d.command.slice(1):d.command,d.title,d.content).catch(y=>(ge.error(y),null));await ae.set(await we(localStorage.token))},l.readAsText(x[0])},()=>{B.click()},async()=>{let l=new Blob([JSON.stringify(w)],{type:"application/json"});i(l,`prompts-export-${Date.now()}.json`)}]}class We extends Ie{constructor(m){super(),Ce(this,m,je,Be,ke,{})}}export{We as component};
