import{s as Kt,f as i,g as c,h as p,d as h,j as l,i as at,r as a,u as K,C as Wt,V as Je,z as Mt,A as Lt,p as Zt,W as le,o as ge,a as D,N as $,c as E,P as It,O as xe,v as ne,l as Dt,m as Et,T as ee,n as Jt,M as We,K as qe,w as Ce,e as Te}from"../chunks/scheduler.161605a7.js";import{S as ae,i as re,f as se,b as Ht,d as St,m as Bt,a as ot,t as mt,e as Nt,g as ie,c as ce}from"../chunks/index.acd0f037.js";import{g as Ke}from"../chunks/globals.7f7f1b26.js";import{e as me}from"../chunks/each.65aa5674.js";import{a as Ut}from"../chunks/Toaster.svelte_svelte_type_style_lang.51e71bae.js";import{f as tl}from"../chunks/FileSaver.min.898eb36f.js";import{k as Vt,S as $e,l as Ge,W as el}from"../chunks/index.7deef04d.js";import{u as ll,g as Ft,t as Ve,c as _e,d as Me}from"../chunks/index.2e364eac.js";import{g as sl,b as nl,s as al,c as rl,d as ol,u as Ze}from"../chunks/index.04f88212.js";import{t as Qe}from"../chunks/index.496e36ff.js";import"../chunks/dayjs.min.1e504c00.js";import{M as we}from"../chunks/Modal.dcdf4258.js";import{T as Xe,A as il}from"../chunks/Tags.ca83fc8e.js";function cl(n){let t,e;return{c(){t=Mt("svg"),e=Mt("path"),this.h()},l(s){t=Lt(s,"svg",{class:!0,"aria-hidden":!0,xmlns:!0,fill:!0,viewBox:!0});var d=p(t);e=Lt(d,"path",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),p(e).forEach(h),d.forEach(h),this.h()},h(){l(e,"stroke","currentColor"),l(e,"stroke-linecap","round"),l(e,"stroke-linejoin","round"),l(e,"stroke-width","3"),l(e,"d","M5 12h14"),l(t,"class","w-3 h-3.5 text-gray-800 dark:text-white"),l(t,"aria-hidden","true"),l(t,"xmlns","http://www.w3.org/2000/svg"),l(t,"fill","none"),l(t,"viewBox","0 0 24 24")},m(s,d){at(s,t,d),a(t,e)},d(s){s&&h(t)}}}function dl(n){let t,e;return{c(){t=Mt("svg"),e=Mt("path"),this.h()},l(s){t=Lt(s,"svg",{class:!0,"aria-hidden":!0,xmlns:!0,fill:!0,viewBox:!0});var d=p(t);e=Lt(d,"path",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),p(e).forEach(h),d.forEach(h),this.h()},h(){l(e,"stroke","currentColor"),l(e,"stroke-linecap","round"),l(e,"stroke-linejoin","round"),l(e,"stroke-width","3"),l(e,"d","m5 12 4.7 4.5 9.3-9"),l(t,"class","w-3.5 h-3.5"),l(t,"aria-hidden","true"),l(t,"xmlns","http://www.w3.org/2000/svg"),l(t,"fill","none"),l(t,"viewBox","0 0 24 24")},m(s,d){at(s,t,d),a(t,e)},d(s){s&&h(t)}}}function ul(n){let t,e,s,d,u;function r(v,g){if(v[2]==="checked")return dl;if(v[1])return cl}let f=r(n),o=f&&f(n);return{c(){t=i("button"),e=i("div"),o&&o.c(),this.h()},l(v){t=c(v,"BUTTON",{class:!0});var g=p(t);e=c(g,"DIV",{class:!0});var m=p(e);o&&o.l(m),m.forEach(h),g.forEach(h),this.h()},h(){l(e,"class","top-0 left-0 absolute w-full flex justify-center"),l(t,"class",s="outline -outline-offset-1 outline-[1.5px] outline-gray-200 dark:outline-gray-600 "+(n[0]!=="unchecked"?"bg-black outline-black ":"hover:outline-gray-500 hover:bg-gray-50 dark:hover:bg-gray-800")+" text-white transition-all rounded inline-block w-3.5 h-3.5 relative")},m(v,g){at(v,t,g),a(t,e),o&&o.m(e,null),d||(u=K(t,"click",n[4]),d=!0)},p(v,[g]){f!==(f=r(v))&&(o&&o.d(1),o=f&&f(v),o&&(o.c(),o.m(e,null))),g&1&&s!==(s="outline -outline-offset-1 outline-[1.5px] outline-gray-200 dark:outline-gray-600 "+(v[0]!=="unchecked"?"bg-black outline-black ":"hover:outline-gray-500 hover:bg-gray-50 dark:hover:bg-gray-800")+" text-white transition-all rounded inline-block w-3.5 h-3.5 relative")&&l(t,"class",s)},i:Wt,o:Wt,d(v){v&&h(t),o&&o.d(),d=!1,u()}}}function fl(n,t,e){const s=Je();let{state:d="unchecked"}=t,{indeterminate:u=!1}=t,r="unchecked";const f=()=>{r==="unchecked"?(e(2,r="checked"),s("change",r)):r==="checked"?(e(2,r="unchecked"),u||s("change",r)):u&&(e(2,r="checked"),s("change",r))};return n.$$set=o=>{"state"in o&&e(0,d=o.state),"indeterminate"in o&&e(1,u=o.indeterminate)},n.$$.update=()=>{n.$$.dirty&1&&e(2,r=d)},[d,u,r,s,f]}class Ye extends ae{constructor(t){super(),re(this,t,fl,ul,Kt,{state:0,indeterminate:1})}}function hl(n){let t,e,s,d="Edit Doc",u,r,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',o,v,g,m,x,y,k,w,H,N="Name Tag",I,C,M,O="#",ct,G,A,V,S,z="Title",J,Z,U,it,R,Q,X="Tags",F,tt,rt,_,L='<button class="px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-gray-100 transition rounded" type="submit">Save</button>',T,B,lt;return tt=new Xe({props:{tags:n[1],addTag:n[4],deleteTag:n[5]}}),{c(){t=i("div"),e=i("div"),s=i("div"),s.textContent=d,u=D(),r=i("button"),r.innerHTML=f,o=D(),v=i("hr"),g=D(),m=i("div"),x=i("div"),y=i("form"),k=i("div"),w=i("div"),H=i("div"),H.textContent=N,I=D(),C=i("div"),M=i("div"),M.textContent=O,ct=D(),G=i("input"),A=D(),V=i("div"),S=i("div"),S.textContent=z,J=D(),Z=i("div"),U=i("input"),it=D(),R=i("div"),Q=i("div"),Q.textContent=X,F=D(),Ht(tt.$$.fragment),rt=D(),_=i("div"),_.innerHTML=L,this.h()},l(P){t=c(P,"DIV",{});var j=p(t);e=c(j,"DIV",{class:!0});var et=p(e);s=c(et,"DIV",{class:!0,"data-svelte-h":!0}),$(s)!=="svelte-1ril91t"&&(s.textContent=d),u=E(et),r=c(et,"BUTTON",{class:!0,"data-svelte-h":!0}),$(r)!=="svelte-745w2y"&&(r.innerHTML=f),et.forEach(h),o=E(j),v=c(j,"HR",{class:!0}),g=E(j),m=c(j,"DIV",{class:!0});var gt=p(m);x=c(gt,"DIV",{class:!0});var Y=p(x);y=c(Y,"FORM",{class:!0});var ft=p(y);k=c(ft,"DIV",{class:!0});var dt=p(k);w=c(dt,"DIV",{class:!0});var xt=p(w);H=c(xt,"DIV",{class:!0,"data-svelte-h":!0}),$(H)!=="svelte-11m42gz"&&(H.textContent=N),I=E(xt),C=c(xt,"DIV",{class:!0});var At=p(C);M=c(At,"DIV",{class:!0,"data-svelte-h":!0}),$(M)!=="svelte-9ujxug"&&(M.textContent=O),ct=E(At),G=c(At,"INPUT",{class:!0,type:!0,autocomplete:!0}),At.forEach(h),xt.forEach(h),A=E(dt),V=c(dt,"DIV",{class:!0});var pt=p(V);S=c(pt,"DIV",{class:!0,"data-svelte-h":!0}),$(S)!=="svelte-bs5oh2"&&(S.textContent=z),J=E(pt),Z=c(pt,"DIV",{class:!0});var bt=p(Z);U=c(bt,"INPUT",{class:!0,type:!0,autocomplete:!0}),bt.forEach(h),pt.forEach(h),it=E(dt),R=c(dt,"DIV",{class:!0});var kt=p(R);Q=c(kt,"DIV",{class:!0,"data-svelte-h":!0}),$(Q)!=="svelte-1tnbnwm"&&(Q.textContent=X),F=E(kt),St(tt.$$.fragment,kt),kt.forEach(h),dt.forEach(h),rt=E(ft),_=c(ft,"DIV",{class:!0,"data-svelte-h":!0}),$(_)!=="svelte-1g42ope"&&(_.innerHTML=L),ft.forEach(h),Y.forEach(h),gt.forEach(h),j.forEach(h),this.h()},h(){l(s,"class","text-lg font-medium self-center"),l(r,"class","self-center"),l(e,"class","flex justify-between dark:text-gray-300 px-5 py-4"),l(v,"class","dark:border-gray-800"),l(H,"class","mb-1 text-xs text-gray-500"),l(M,"class","bg-gray-200 dark:bg-gray-600 font-bold px-3 py-1 border border-r-0 dark:border-gray-600 rounded-l-lg flex items-center"),l(G,"class","w-full rounded-r-lg py-2.5 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 disabled:text-gray-500 dark:disabled:text-gray-500 outline-none svelte-1vx7r9s"),l(G,"type","text"),l(G,"autocomplete","off"),G.required=!0,l(C,"class","flex flex-1"),l(w,"class","flex flex-col w-full"),l(S,"class","mb-1 text-xs text-gray-500"),l(U,"class","w-full rounded-lg py-2.5 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none svelte-1vx7r9s"),l(U,"type","text"),l(U,"autocomplete","off"),U.required=!0,l(Z,"class","flex-1"),l(V,"class","flex flex-col w-full"),l(Q,"class","mb-1.5 text-xs text-gray-500"),l(R,"class","flex flex-col w-full"),l(k,"class","flex flex-col space-y-1.5"),l(_,"class","flex justify-end pt-5 text-sm font-medium"),l(y,"class","flex flex-col w-full"),l(x,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),l(m,"class","flex flex-col md:flex-row w-full px-5 py-4 md:space-x-4 dark:text-gray-200")},m(P,j){at(P,t,j),a(t,e),a(e,s),a(e,u),a(e,r),a(t,o),a(t,v),a(t,g),a(t,m),a(m,x),a(x,y),a(y,k),a(k,w),a(w,H),a(w,I),a(w,C),a(C,M),a(C,ct),a(C,G),It(G,n[2].name),a(k,A),a(k,V),a(V,S),a(V,J),a(V,Z),a(Z,U),It(U,n[2].title),a(k,it),a(k,R),a(R,Q),a(R,F),Bt(tt,R,null),a(y,rt),a(y,_),T=!0,B||(lt=[K(r,"click",n[7]),K(G,"input",n[8]),K(U,"input",n[9]),K(y,"submit",xe(n[10]))],B=!0)},p(P,j){j&4&&G.value!==P[2].name&&It(G,P[2].name),j&4&&U.value!==P[2].title&&It(U,P[2].title);const et={};j&2&&(et.tags=P[1]),tt.$set(et)},i(P){T||(ot(tt.$$.fragment,P),T=!0)},o(P){mt(tt.$$.fragment,P),T=!1},d(P){P&&h(t),Nt(tt),B=!1,ne(lt)}}}function vl(n){let t,e,s;function d(r){n[11](r)}let u={size:"sm",$$slots:{default:[hl]},$$scope:{ctx:n}};return n[0]!==void 0&&(u.show=n[0]),t=new we({props:u}),Zt.push(()=>se(t,"show",d)),{c(){Ht(t.$$.fragment)},l(r){St(t.$$.fragment,r)},m(r,f){Bt(t,r,f),s=!0},p(r,[f]){const o={};f&4103&&(o.$$scope={dirty:f,ctx:r}),!e&&f&1&&(e=!0,o.show=r[0],le(()=>e=!1)),t.$set(o)},i(r){s||(ot(t.$$.fragment,r),s=!0)},o(r){mt(t.$$.fragment,r),s=!1},d(r){Nt(t,r)}}}function ml(n,t,e){let{show:s=!1}=t,{selectedDoc:d}=t,u=[],r={name:"",title:"",content:null};const f=async()=>{await ll(localStorage.token,d.name,{title:r.title,name:r.name}).catch(H=>{Ut.error(H)})&&(e(0,s=!1),Vt.set(await Ft(localStorage.token)))},o=async w=>{!u.find(H=>H.name===w)&&w!==""?(e(1,u=[...u,{name:w}]),await Ve(localStorage.token,r.name,{name:r.name,tags:u}),Vt.set(await Ft(localStorage.token))):console.log("tag already exists")},v=async w=>{e(1,u=u.filter(H=>H.name!==w)),await Ve(localStorage.token,r.name,{name:r.name,tags:u}),Vt.set(await Ft(localStorage.token))};ge(()=>{var w;d&&(e(2,r=JSON.parse(JSON.stringify(d))),e(1,u=((w=r==null?void 0:r.content)==null?void 0:w.tags)??[]))});const g=()=>{e(0,s=!1)};function m(){r.name=this.value,e(2,r)}function x(){r.title=this.value,e(2,r)}const y=()=>{f()};function k(w){s=w,e(0,s)}return n.$$set=w=>{"show"in w&&e(0,s=w.show),"selectedDoc"in w&&e(6,d=w.selectedDoc)},[s,u,r,f,o,v,d,g,m,x,y,k]}class gl extends ae{constructor(t){super(),re(this,t,ml,vl,Kt,{show:0,selectedDoc:6})}}function Le(n){let t,e=`<svg class="w-3 h-3" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
										transform-origin: center;
										animation: spinner_AtaB 0.75s infinite linear;
									}
									@keyframes spinner_AtaB {
										100% {
											transform: rotate(360deg);
										}
									}
								</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){t=i("div"),t.innerHTML=e,this.h()},l(s){t=c(s,"DIV",{class:!0,"data-svelte-h":!0}),$(t)!=="svelte-1q5d1z1"&&(t.innerHTML=e),this.h()},h(){l(t,"class","ml-3 self-center")},m(s,d){at(s,t,d)},d(s){s&&h(t)}}}function pl(n){let t,e,s,d,u="General Settings",r,f,o,v="Scan for documents from '/data/docs'",g,m,x,y="Scan",k,w,H,N,I,C,M,O,ct="Chunk Params",G,A,V,S,z="Chunk Size",J,Z,U,it,R,Q,X="Chunk Overlap",F,tt,rt,_,L,T,B,lt="PDF Extract Images (OCR)",P,j,et=n[4]?"On":"Off",gt,Y,ft,dt,xt="Query Params",At,pt,bt,kt,ht="Top K",wt,$t,yt,oe,zt,st,Pt="RAG Template",nt,jt,b,q,Ct='<button class="px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-gray-100 transition rounded" type="submit">Save</button>',Rt,W,ut=n[1]&&Le();return{c(){t=i("form"),e=i("div"),s=i("div"),d=i("div"),d.textContent=u,r=D(),f=i("div"),o=i("div"),o.textContent=v,g=D(),m=i("button"),x=i("div"),x.textContent=y,k=D(),ut&&ut.c(),H=D(),N=i("hr"),I=D(),C=i("div"),M=i("div"),O=i("div"),O.textContent=ct,G=D(),A=i("div"),V=i("div"),S=i("div"),S.textContent=z,J=D(),Z=i("div"),U=i("input"),it=D(),R=i("div"),Q=i("div"),Q.textContent=X,F=D(),tt=i("div"),rt=i("input"),_=D(),L=i("div"),T=i("div"),B=i("div"),B.textContent=lt,P=D(),j=i("button"),gt=Dt(et),Y=D(),ft=i("div"),dt=i("div"),dt.textContent=xt,At=D(),pt=i("div"),bt=i("div"),kt=i("div"),kt.textContent=ht,wt=D(),$t=i("div"),yt=i("input"),oe=D(),zt=i("div"),st=i("div"),st.textContent=Pt,nt=D(),jt=i("textarea"),b=D(),q=i("div"),q.innerHTML=Ct,this.h()},l(vt){t=c(vt,"FORM",{class:!0});var _t=p(t);e=c(_t,"DIV",{class:!0});var Ot=p(e);s=c(Ot,"DIV",{});var qt=p(s);d=c(qt,"DIV",{class:!0,"data-svelte-h":!0}),$(d)!=="svelte-cof781"&&(d.textContent=u),r=E(qt),f=c(qt,"DIV",{class:!0});var Qt=p(f);o=c(Qt,"DIV",{class:!0,"data-svelte-h":!0}),$(o)!=="svelte-kbeq7u"&&(o.textContent=v),g=E(Qt),m=c(Qt,"BUTTON",{class:!0,type:!0});var Xt=p(m);x=c(Xt,"DIV",{class:!0,"data-svelte-h":!0}),$(x)!=="svelte-brpk47"&&(x.textContent=y),k=E(Xt),ut&&ut.l(Xt),Xt.forEach(h),Qt.forEach(h),qt.forEach(h),H=E(Ot),N=c(Ot,"HR",{class:!0}),I=E(Ot),C=c(Ot,"DIV",{class:!0});var Yt=p(C);M=c(Yt,"DIV",{class:!0});var Tt=p(M);O=c(Tt,"DIV",{class:!0,"data-svelte-h":!0}),$(O)!=="svelte-bs6nw7"&&(O.textContent=ct),G=E(Tt),A=c(Tt,"DIV",{class:!0});var Gt=p(A);V=c(Gt,"DIV",{class:!0});var de=p(V);S=c(de,"DIV",{class:!0,"data-svelte-h":!0}),$(S)!=="svelte-zhubqx"&&(S.textContent=z),J=E(de),Z=c(de,"DIV",{class:!0});var be=p(Z);U=c(be,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),be.forEach(h),de.forEach(h),it=E(Gt),R=c(Gt,"DIV",{class:!0});var ue=p(R);Q=c(ue,"DIV",{class:!0,"data-svelte-h":!0}),$(Q)!=="svelte-dln3z5"&&(Q.textContent=X),F=E(ue),tt=c(ue,"DIV",{class:!0});var ke=p(tt);rt=c(ke,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),ke.forEach(h),ue.forEach(h),Gt.forEach(h),_=E(Tt),L=c(Tt,"DIV",{});var ye=p(L);T=c(ye,"DIV",{class:!0});var fe=p(T);B=c(fe,"DIV",{class:!0,"data-svelte-h":!0}),$(B)!=="svelte-1t09rjz"&&(B.textContent=lt),P=E(fe),j=c(fe,"BUTTON",{class:!0,type:!0});var De=p(j);gt=Et(De,et),De.forEach(h),fe.forEach(h),ye.forEach(h),Tt.forEach(h),Y=E(Yt),ft=c(Yt,"DIV",{});var te=p(ft);dt=c(te,"DIV",{class:!0,"data-svelte-h":!0}),$(dt)!=="svelte-1b76pt8"&&(dt.textContent=xt),At=E(te),pt=c(te,"DIV",{class:!0});var Ee=p(pt);bt=c(Ee,"DIV",{class:!0});var he=p(bt);kt=c(he,"DIV",{class:!0,"data-svelte-h":!0}),$(kt)!=="svelte-1dvxwaa"&&(kt.textContent=ht),wt=E(he),$t=c(he,"DIV",{class:!0});var Ie=p($t);yt=c(Ie,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),Ie.forEach(h),he.forEach(h),Ee.forEach(h),oe=E(te),zt=c(te,"DIV",{});var ve=p(zt);st=c(ve,"DIV",{class:!0,"data-svelte-h":!0}),$(st)!=="svelte-ho3jbh"&&(st.textContent=Pt),nt=E(ve),jt=c(ve,"TEXTAREA",{class:!0,rows:!0}),p(jt).forEach(h),ve.forEach(h),te.forEach(h),Yt.forEach(h),Ot.forEach(h),b=E(_t),q=c(_t,"DIV",{class:!0,"data-svelte-h":!0}),$(q)!=="svelte-1w4736w"&&(q.innerHTML=Ct),_t.forEach(h),this.h()},h(){l(d,"class","mb-2 text-sm font-medium"),l(o,"class","self-center text-xs font-medium"),l(x,"class","self-center font-medium"),l(m,"class",w="self-center text-xs p-1 px-3 bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 rounded flex flex-row space-x-1 items-center "+(n[1]?" cursor-not-allowed":"")),l(m,"type","button"),m.disabled=n[1],l(f,"class","flex w-full justify-between"),l(N,"class","dark:border-gray-700"),l(O,"class","text-sm font-medium"),l(S,"class","self-center text-xs font-medium min-w-fit"),l(U,"class","w-full rounded py-1.5 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none border border-gray-100 dark:border-gray-600"),l(U,"type","number"),l(U,"placeholder","Enter Chunk Size"),l(U,"autocomplete","off"),l(U,"min","0"),l(Z,"class","self-center"),l(V,"class","flex w-full justify-between gap-2"),l(Q,"class","self-center text-xs font-medium min-w-fit"),l(rt,"class","w-full rounded py-1.5 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none border border-gray-100 dark:border-gray-600"),l(rt,"type","number"),l(rt,"placeholder","Enter Chunk Overlap"),l(rt,"autocomplete","off"),l(rt,"min","0"),l(tt,"class","self-center"),l(R,"class","flex w-full gap-2"),l(A,"class","flex gap-2"),l(B,"class","text-xs font-medium"),l(j,"class","text-xs font-medium text-gray-500"),l(j,"type","button"),l(T,"class","flex justify-between items-center text-xs"),l(M,"class","space-y-3"),l(dt,"class","text-sm font-medium"),l(kt,"class","self-center text-xs font-medium flex-1"),l(yt,"class","w-full rounded py-1.5 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none border border-gray-100 dark:border-gray-600"),l(yt,"type","number"),l(yt,"placeholder","Enter Top K"),l(yt,"autocomplete","off"),l(yt,"min","0"),l($t,"class","self-center"),l(bt,"class","flex w-full justify-between gap-2"),l(pt,"class","flex py-2"),l(st,"class","mb-2.5 text-sm font-medium"),l(jt,"class","w-full rounded p-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none resize-none"),l(jt,"rows","4"),l(C,"class","space-y-3"),l(e,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-80"),l(q,"class","flex justify-end pt-3 text-sm font-medium"),l(t,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(vt,_t){at(vt,t,_t),a(t,e),a(e,s),a(s,d),a(s,r),a(s,f),a(f,o),a(f,g),a(f,m),a(m,x),a(m,k),ut&&ut.m(m,null),a(e,H),a(e,N),a(e,I),a(e,C),a(C,M),a(M,O),a(M,G),a(M,A),a(A,V),a(V,S),a(V,J),a(V,Z),a(Z,U),It(U,n[2]),a(A,it),a(A,R),a(R,Q),a(R,F),a(R,tt),a(tt,rt),It(rt,n[3]),a(M,_),a(M,L),a(L,T),a(T,B),a(T,P),a(T,j),a(j,gt),a(C,Y),a(C,ft),a(ft,dt),a(ft,At),a(ft,pt),a(pt,bt),a(bt,kt),a(bt,wt),a(bt,$t),a($t,yt),It(yt,n[5].k),a(ft,oe),a(ft,zt),a(zt,st),a(zt,nt),a(zt,jt),It(jt,n[5].template),a(t,b),a(t,q),Rt||(W=[K(m,"click",n[8]),K(U,"input",n[9]),K(rt,"input",n[10]),K(j,"click",n[11]),K(yt,"input",n[12]),K(jt,"input",n[13]),K(t,"submit",xe(n[14]))],Rt=!0)},p(vt,[_t]){vt[1]?ut||(ut=Le(),ut.c(),ut.m(m,null)):ut&&(ut.d(1),ut=null),_t&2&&w!==(w="self-center text-xs p-1 px-3 bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 rounded flex flex-row space-x-1 items-center "+(vt[1]?" cursor-not-allowed":""))&&l(m,"class",w),_t&2&&(m.disabled=vt[1]),_t&4&&ee(U.value)!==vt[2]&&It(U,vt[2]),_t&8&&ee(rt.value)!==vt[3]&&It(rt,vt[3]),_t&16&&et!==(et=vt[4]?"On":"Off")&&Jt(gt,et),_t&32&&ee(yt.value)!==vt[5].k&&It(yt,vt[5].k),_t&32&&It(jt,vt[5].template)},i:Wt,o:Wt,d(vt){vt&&h(t),ut&&ut.d(),Rt=!1,ne(W)}}}function _l(n,t,e){let{saveHandler:s}=t,d=!1,u=0,r=0,f=!0,o={template:"",k:4};const v=async()=>{e(1,d=!0);const I=await al(localStorage.token);e(1,d=!1),I&&(await Vt.set(await Ft(localStorage.token)),Ut.success("Scan complete!"))},g=async()=>{await rl(localStorage.token,{pdf_extract_images:f,chunk:{chunk_overlap:r,chunk_size:u}}),e(5,o=await ol(localStorage.token,o))};ge(async()=>{const I=await sl(localStorage.token);I&&(e(4,f=I.pdf_extract_images),e(2,u=I.chunk.chunk_size),e(3,r=I.chunk.chunk_overlap)),e(5,o=await nl(localStorage.token))});const m=()=>{v(),console.log("check")};function x(){u=ee(this.value),e(2,u)}function y(){r=ee(this.value),e(3,r)}const k=()=>{e(4,f=!f)};function w(){o.k=ee(this.value),e(5,o)}function H(){o.template=this.value,e(5,o)}const N=()=>{g(),s()};return n.$$set=I=>{"saveHandler"in I&&e(0,s=I.saveHandler)},[s,d,u,r,f,o,v,g,m,x,y,k,w,H,N]}class xl extends ae{constructor(t){super(),re(this,t,_l,pl,Kt,{saveHandler:0})}}function He(n){let t,e;return t=new xl({props:{saveHandler:n[4]}}),{c(){Ht(t.$$.fragment)},l(s){St(t.$$.fragment,s)},m(s,d){Bt(t,s,d),e=!0},p(s,d){const u={};d&1&&(u.saveHandler=s[4]),t.$set(u)},i(s){e||(ot(t.$$.fragment,s),e=!0)},o(s){mt(t.$$.fragment,s),e=!1},d(s){Nt(t,s)}}}function wl(n){let t,e,s,d="Document Settings",u,r,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',o,v,g,m,x,y,k,w='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M6.955 1.45A.5.5 0 0 1 7.452 1h1.096a.5.5 0 0 1 .497.45l.17 1.699c.484.12.94.312 1.356.562l1.321-1.081a.5.5 0 0 1 .67.033l.774.775a.5.5 0 0 1 .034.67l-1.08 1.32c.25.417.44.873.561 1.357l1.699.17a.5.5 0 0 1 .45.497v1.096a.5.5 0 0 1-.45.497l-1.699.17c-.12.484-.312.94-.562 1.356l1.082 1.322a.5.5 0 0 1-.034.67l-.774.774a.5.5 0 0 1-.67.033l-1.322-1.08c-.416.25-.872.44-1.356.561l-.17 1.699a.5.5 0 0 1-.497.45H7.452a.5.5 0 0 1-.497-.45l-.17-1.699a4.973 4.973 0 0 1-1.356-.562L4.108 13.37a.5.5 0 0 1-.67-.033l-.774-.775a.5.5 0 0 1-.034-.67l1.08-1.32a4.971 4.971 0 0 1-.561-1.357l-1.699-.17A.5.5 0 0 1 1 8.548V7.452a.5.5 0 0 1 .45-.497l1.699-.17c.12-.484.312-.94.562-1.356L2.629 4.107a.5.5 0 0 1 .034-.67l.774-.774a.5.5 0 0 1 .67-.033L5.43 3.71a4.97 4.97 0 0 1 1.356-.561l.17-1.699ZM6 8c0 .538.212 1.026.558 1.385l.057.057a2 2 0 0 0 2.828-2.828l-.058-.056A2 2 0 0 0 6 8Z" clip-rule="evenodd"></path></svg>',H,N,I="General",C,M,O,ct,G,A,V=n[1]==="general"&&He(n);return{c(){t=i("div"),e=i("div"),s=i("div"),s.textContent=d,u=D(),r=i("button"),r.innerHTML=f,o=D(),v=i("hr"),g=D(),m=i("div"),x=i("div"),y=i("button"),k=i("div"),k.innerHTML=w,H=D(),N=i("div"),N.textContent=I,M=D(),O=i("div"),V&&V.c(),this.h()},l(S){t=c(S,"DIV",{});var z=p(t);e=c(z,"DIV",{class:!0});var J=p(e);s=c(J,"DIV",{class:!0,"data-svelte-h":!0}),$(s)!=="svelte-a7e8yf"&&(s.textContent=d),u=E(J),r=c(J,"BUTTON",{class:!0,"data-svelte-h":!0}),$(r)!=="svelte-745w2y"&&(r.innerHTML=f),J.forEach(h),o=E(z),v=c(z,"HR",{class:!0}),g=E(z),m=c(z,"DIV",{class:!0});var Z=p(m);x=c(Z,"DIV",{class:!0});var U=p(x);y=c(U,"BUTTON",{class:!0});var it=p(y);k=c(it,"DIV",{class:!0,"data-svelte-h":!0}),$(k)!=="svelte-1k1ieum"&&(k.innerHTML=w),H=E(it),N=c(it,"DIV",{class:!0,"data-svelte-h":!0}),$(N)!=="svelte-115rgpl"&&(N.textContent=I),it.forEach(h),U.forEach(h),M=E(Z),O=c(Z,"DIV",{class:!0});var R=p(O);V&&V.l(R),R.forEach(h),Z.forEach(h),z.forEach(h),this.h()},h(){l(s,"class","text-lg font-medium self-center"),l(r,"class","self-center"),l(e,"class","flex justify-between dark:text-gray-300 px-5 py-4"),l(v,"class","dark:border-gray-800"),l(k,"class","self-center mr-2"),l(N,"class","self-center"),l(y,"class",C="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(n[1]==="general"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),l(x,"class","tabs flex flex-row overflow-x-auto space-x-1 md:space-x-0 md:space-y-1 md:flex-col flex-1 md:flex-none md:w-40 dark:text-gray-200 text-xs text-left mb-3 md:mb-0"),l(O,"class","flex-1 md:min-h-[380px]"),l(m,"class","flex flex-col md:flex-row w-full p-4 md:space-x-4")},m(S,z){at(S,t,z),a(t,e),a(e,s),a(e,u),a(e,r),a(t,o),a(t,v),a(t,g),a(t,m),a(m,x),a(x,y),a(y,k),a(y,H),a(y,N),a(m,M),a(m,O),V&&V.m(O,null),ct=!0,G||(A=[K(r,"click",n[2]),K(y,"click",n[3])],G=!0)},p(S,z){(!ct||z&2&&C!==(C="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(S[1]==="general"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&l(y,"class",C),S[1]==="general"?V?(V.p(S,z),z&2&&ot(V,1)):(V=He(S),V.c(),ot(V,1),V.m(O,null)):V&&(ie(),mt(V,1,1,()=>{V=null}),ce())},i(S){ct||(ot(V),ct=!0)},o(S){mt(V),ct=!1},d(S){S&&h(t),V&&V.d(),G=!1,ne(A)}}}function bl(n){let t,e,s;function d(r){n[5](r)}let u={$$slots:{default:[wl]},$$scope:{ctx:n}};return n[0]!==void 0&&(u.show=n[0]),t=new we({props:u}),Zt.push(()=>se(t,"show",d)),{c(){Ht(t.$$.fragment)},l(r){St(t.$$.fragment,r)},m(r,f){Bt(t,r,f),s=!0},p(r,[f]){const o={};f&67&&(o.$$scope={dirty:f,ctx:r}),!e&&f&1&&(e=!0,o.show=r[0],le(()=>e=!1)),t.$set(o)},i(r){s||(ot(t.$$.fragment,r),s=!0)},o(r){mt(t.$$.fragment,r),s=!1},d(r){Nt(t,r)}}}function kl(n,t,e){let{show:s=!1}=t,d="general";const u=()=>{e(0,s=!1)},r=()=>{e(1,d="general")},f=()=>{e(0,s=!1)};function o(v){s=v,e(0,s)}return n.$$set=v=>{"show"in v&&e(0,s=v.show)},[s,d,u,r,f,o]}class yl extends ae{constructor(t){super(),re(this,t,kl,bl,Kt,{show:0})}}function Dl(n){let t;return{c(){t=Dt("Click here to select documents.")},l(e){t=Et(e,"Click here to select documents.")},m(e,s){at(e,t,s)},p:Wt,d(e){e&&h(t)}}}function El(n){let t=n[2].length>0?`${n[2].length}`:"",e,s;return{c(){e=Dt(t),s=Dt(" document(s) selected.")},l(d){e=Et(d,t),s=Et(d," document(s) selected.")},m(d,u){at(d,e,u),at(d,s,u)},p(d,u){u&4&&t!==(t=d[2].length>0?`${d[2].length}`:"")&&Jt(e,t)},d(d){d&&(h(e),h(s))}}}function Il(n){let t,e,s,d="Add Docs",u,r,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',o,v,g,m,x,y,k,w,H,N,I,C,M,O,ct="Tags",G,A,V,S,z='<button class="px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-gray-100 transition rounded" type="submit">Save</button>',J,Z,U;function it(X,F){return X[2]?El:Dl}let R=it(n),Q=R(n);return A=new Xe({props:{tags:n[3],addTag:n[5],deleteTag:n[6]}}),{c(){t=i("div"),e=i("div"),s=i("div"),s.textContent=d,u=D(),r=i("button"),r.innerHTML=f,o=D(),v=i("hr"),g=D(),m=i("div"),x=i("div"),y=i("form"),k=i("div"),w=i("input"),H=D(),N=i("button"),Q.c(),I=D(),C=i("div"),M=i("div"),O=i("div"),O.textContent=ct,G=D(),Ht(A.$$.fragment),V=D(),S=i("div"),S.innerHTML=z,this.h()},l(X){t=c(X,"DIV",{});var F=p(t);e=c(F,"DIV",{class:!0});var tt=p(e);s=c(tt,"DIV",{class:!0,"data-svelte-h":!0}),$(s)!=="svelte-k9q435"&&(s.textContent=d),u=E(tt),r=c(tt,"BUTTON",{class:!0,"data-svelte-h":!0}),$(r)!=="svelte-745w2y"&&(r.innerHTML=f),tt.forEach(h),o=E(F),v=c(F,"HR",{class:!0}),g=E(F),m=c(F,"DIV",{class:!0});var rt=p(m);x=c(rt,"DIV",{class:!0});var _=p(x);y=c(_,"FORM",{class:!0});var L=p(y);k=c(L,"DIV",{class:!0});var T=p(k);w=c(T,"INPUT",{id:!0,type:!0,class:!0}),H=E(T),N=c(T,"BUTTON",{class:!0,type:!0});var B=p(N);Q.l(B),B.forEach(h),T.forEach(h),I=E(L),C=c(L,"DIV",{class:!0});var lt=p(C);M=c(lt,"DIV",{class:!0});var P=p(M);O=c(P,"DIV",{class:!0,"data-svelte-h":!0}),$(O)!=="svelte-1tnbnwm"&&(O.textContent=ct),G=E(P),St(A.$$.fragment,P),P.forEach(h),lt.forEach(h),V=E(L),S=c(L,"DIV",{class:!0,"data-svelte-h":!0}),$(S)!=="svelte-1g42ope"&&(S.innerHTML=z),L.forEach(h),_.forEach(h),rt.forEach(h),F.forEach(h),this.h()},h(){l(s,"class","text-lg font-medium self-center"),l(r,"class","self-center"),l(e,"class","flex justify-between dark:text-gray-300 px-5 py-4"),l(v,"class","dark:border-gray-800"),l(w,"id","upload-doc-input"),w.hidden=!0,l(w,"type","file"),w.multiple=!0,l(w,"class","svelte-1vx7r9s"),l(N,"class","w-full text-sm font-medium py-3 bg-gray-850 hover:bg-gray-800 text-center rounded-xl"),l(N,"type","button"),l(k,"class","mb-3 w-full"),l(O,"class","mb-1.5 text-xs text-gray-500"),l(M,"class","flex flex-col w-full"),l(C,"class","flex flex-col space-y-1.5"),l(S,"class","flex justify-end pt-5 text-sm font-medium"),l(y,"class","flex flex-col w-full"),l(x,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),l(m,"class","flex flex-col md:flex-row w-full px-5 py-4 md:space-x-4 dark:text-gray-200")},m(X,F){at(X,t,F),a(t,e),a(e,s),a(e,u),a(e,r),a(t,o),a(t,v),a(t,g),a(t,m),a(m,x),a(x,y),a(y,k),a(k,w),n[9](w),a(k,H),a(k,N),Q.m(N,null),a(y,I),a(y,C),a(C,M),a(M,O),a(M,G),Bt(A,M,null),a(y,V),a(y,S),J=!0,Z||(U=[K(r,"click",n[8]),K(w,"change",n[10]),K(N,"click",n[11]),K(y,"submit",xe(n[12]))],Z=!0)},p(X,F){R===(R=it(X))&&Q?Q.p(X,F):(Q.d(1),Q=R(X),Q&&(Q.c(),Q.m(N,null)));const tt={};F&8&&(tt.tags=X[3]),A.$set(tt)},i(X){J||(ot(A.$$.fragment,X),J=!0)},o(X){mt(A.$$.fragment,X),J=!1},d(X){X&&h(t),n[9](null),Q.d(),Nt(A),Z=!1,ne(U)}}}function Cl(n){let t,e,s;function d(r){n[13](r)}let u={size:"sm",$$slots:{default:[Il]},$$scope:{ctx:n}};return n[0]!==void 0&&(u.show=n[0]),t=new we({props:u}),Zt.push(()=>se(t,"show",d)),{c(){Ht(t.$$.fragment)},l(r){St(t.$$.fragment,r)},m(r,f){Bt(t,r,f),s=!0},p(r,[f]){const o={};f&65551&&(o.$$scope={dirty:f,ctx:r}),!e&&f&1&&(e=!0,o.show=r[0],le(()=>e=!1)),t.$set(o)},i(r){s||(ot(t.$$.fragment,r),s=!0)},o(r){mt(t.$$.fragment,r),s=!1},d(r){Nt(t,r)}}}function Tl(n,t,e){let{show:s=!1}=t,{selectedDoc:d}=t,u,r,f=[];const o=async I=>{const C=await Ze(localStorage.token,"",I).catch(M=>(Ut.error(M),null));C&&(await _e(localStorage.token,C.collection_name,C.filename,Qe(C.filename),C.filename,f.length>0?{tags:f}:null).catch(M=>(Ut.error(M),null)),await Vt.set(await Ft(localStorage.token)))},v=async()=>{if(r&&r.length>0){for(const I of r)console.log(I,I.name.split(".").at(-1)),$e.includes(I.type)||Ge.includes(I.name.split(".").at(-1))||Ut.error(`Unknown File Type '${I.type}', but accepting and treating as plain text`),o(I);e(2,r=null),e(1,u.value="",u)}else Ut.error("File not found.");e(0,s=!1),Vt.set(await Ft(localStorage.token))},g=async I=>{!f.find(C=>C.name===I)&&I!==""?e(3,f=[...f,{name:I}]):console.log("tag already exists")},m=async I=>{e(3,f=f.filter(C=>C.name!==I))};ge(()=>{});const x=()=>{e(0,s=!1)};function y(I){Zt[I?"unshift":"push"](()=>{u=I,e(1,u)})}function k(){r=this.files,e(2,r)}const w=()=>{u.click()},H=()=>{v()};function N(I){s=I,e(0,s)}return n.$$set=I=>{"show"in I&&e(0,s=I.show),"selectedDoc"in I&&e(7,d=I.selectedDoc)},[s,u,r,f,v,g,m,d,x,y,k,w,H,N]}class Vl extends ae{constructor(t){super(),re(this,t,Tl,Cl,Kt,{show:0,selectedDoc:7})}}const{document:pe}=Ke;function Se(n,t,e){const s=n.slice();return s[35]=t[e],s[36]=t,s[37]=e,s}function Be(n,t,e){const s=n.slice();return s[38]=t[e],s}function Ne(n){let t,e,s,d,u,r;return u=new il({props:{$$slots:{default:[Ml]},$$scope:{ctx:n}}}),{c(){t=i("div"),e=i("div"),s=i("div"),d=i("div"),Ht(u.$$.fragment),this.h()},l(f){t=c(f,"DIV",{class:!0,id:!0,role:!0,"aria-label":!0});var o=p(t);e=c(o,"DIV",{class:!0});var v=p(e);s=c(v,"DIV",{class:!0});var g=p(s);d=c(g,"DIV",{class:!0});var m=p(d);St(u.$$.fragment,m),m.forEach(h),g.forEach(h),v.forEach(h),o.forEach(h),this.h()},h(){l(d,"class","max-w-md"),l(s,"class","m-auto pt-64 flex flex-col justify-center"),l(e,"class","absolute rounded-xl w-full h-full backdrop-blur bg-gray-800/40 flex justify-center"),l(t,"class","fixed w-full h-full flex z-50 touch-none pointer-events-none"),l(t,"id","dropzone"),l(t,"role","region"),l(t,"aria-label","Drag and Drop Container")},m(f,o){at(f,t,o),a(t,e),a(e,s),a(s,d),Bt(u,d,null),r=!0},i(f){r||(ot(u.$$.fragment,f),r=!0)},o(f){mt(u.$$.fragment,f),r=!1},d(f){f&&h(t),Nt(u)}}}function Ml(n){let t,e="Drop any files here to add to my documents";return{c(){t=i("div"),t.textContent=e,this.h()},l(s){t=c(s,"DIV",{class:!0,"data-svelte-h":!0}),$(t)!=="svelte-19eg75t"&&(t.textContent=e),this.h()},h(){l(t,"class","mt-2 text-center text-sm dark:text-gray-200 w-full")},m(s,d){at(s,t,d)},p:Wt,d(s){s&&h(t)}}}function Ae(n){let t,e,s;function d(r){n[16](r)}let u={selectedDoc:n[9]};return n[8]!==void 0&&(u.show=n[8]),t=new gl({props:u}),Zt.push(()=>se(t,"show",d)),{c(){Ht(t.$$.fragment)},l(r){St(t.$$.fragment,r)},m(r,f){Bt(t,r,f),s=!0},p(r,f){const o={};f[0]&512&&(o.selectedDoc=r[9]),!e&&f[0]&256&&(e=!0,o.show=r[8],le(()=>e=!1)),t.$set(o)},i(r){s||(ot(t.$$.fragment,r),s=!0)},o(r){mt(t.$$.fragment,r),s=!1},d(r){Nt(t,r)}}}function je(n){let t,e,s,d,u,r;s=new Ye({props:{state:n[11].filter(ze).length===n[11].length?"checked":"unchecked",indeterminate:n[11].filter(Pe).length>0&&n[11].filter(Fe).length!==n[11].length}}),s.$on("change",n[22]);function f(g,m){return m[0]&2048&&(u=null),u==null&&(u=g[11].filter(Al).length===0),u?Hl:Ll}let o=f(n,[-1,-1]),v=o(n);return{c(){t=i("div"),e=i("div"),Ht(s.$$.fragment),d=D(),v.c(),this.h()},l(g){t=c(g,"DIV",{class:!0});var m=p(t);e=c(m,"DIV",{class:!0});var x=p(e);St(s.$$.fragment,x),x.forEach(h),d=E(m),v.l(m),m.forEach(h),this.h()},h(){l(e,"class","ml-0.5 pr-3 my-auto flex items-center"),l(t,"class","px-2.5 pt-1 flex gap-1 flex-wrap")},m(g,m){at(g,t,m),a(t,e),Bt(s,e,null),a(t,d),v.m(t,null),r=!0},p(g,m){const x={};m[0]&2048&&(x.state=g[11].filter(ze).length===g[11].length?"checked":"unchecked"),m[0]&2048&&(x.indeterminate=g[11].filter(Pe).length>0&&g[11].filter(Fe).length!==g[11].length),s.$set(x),o===(o=f(g,m))&&v?v.p(g,m):(v.d(1),v=o(g),v&&(v.c(),v.m(t,null)))},i(g){r||(ot(s.$$.fragment,g),r=!0)},o(g){mt(s.$$.fragment,g),r=!1},d(g){g&&h(t),Nt(s),v.d()}}}function Ll(n){let t,e,s=n[11].filter(Re).length+"",d,u,r,f,o,v='<div class="text-xs font-medium self-center line-clamp-1">delete</div>',g,m;return{c(){t=i("div"),e=i("div"),d=Dt(s),u=Dt(" Selected"),r=D(),f=i("div"),o=i("button"),o.innerHTML=v,this.h()},l(x){t=c(x,"DIV",{class:!0});var y=p(t);e=c(y,"DIV",{class:!0});var k=p(e);d=Et(k,s),u=Et(k," Selected"),k.forEach(h),r=E(y),f=c(y,"DIV",{class:!0});var w=p(f);o=c(w,"BUTTON",{class:!0,"data-svelte-h":!0}),$(o)!=="svelte-xmow8f"&&(o.innerHTML=v),w.forEach(h),y.forEach(h),this.h()},h(){l(e,"class","text-xs font-medium py-0.5 self-center mr-1"),l(o,"class","px-2 py-0.5 space-x-1 flex h-fit items-center rounded-full transition bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:text-white"),l(f,"class","flex gap-1"),l(t,"class","flex-1 flex w-full justify-between items-center")},m(x,y){at(x,t,y),a(t,e),a(e,d),a(e,u),a(t,r),a(t,f),a(f,o),g||(m=K(o,"click",n[25]),g=!0)},p(x,y){y[0]&2048&&s!==(s=x[11].filter(Re).length+"")&&Jt(d,s)},d(x){x&&h(t),g=!1,m()}}}function Hl(n){let t,e='<div class="text-xs font-medium self-center line-clamp-1">all</div>',s,d,u,r,f=me(n[5]),o=[];for(let v=0;v<f.length;v+=1)o[v]=Oe(Be(n,f,v));return{c(){t=i("button"),t.innerHTML=e,s=D();for(let v=0;v<o.length;v+=1)o[v].c();d=Te(),this.h()},l(v){t=c(v,"BUTTON",{class:!0,"data-svelte-h":!0}),$(t)!=="svelte-1tfinx6"&&(t.innerHTML=e),s=E(v);for(let g=0;g<o.length;g+=1)o[g].l(v);d=Te(),this.h()},h(){l(t,"class","px-2 py-0.5 space-x-1 flex h-fit items-center rounded-full transition bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:text-white")},m(v,g){at(v,t,g),at(v,s,g);for(let m=0;m<o.length;m+=1)o[m]&&o[m].m(v,g);at(v,d,g),u||(r=K(t,"click",n[23]),u=!0)},p(v,g){if(g[0]&34){f=me(v[5]);let m;for(m=0;m<f.length;m+=1){const x=Be(v,f,m);o[m]?o[m].p(x,g):(o[m]=Oe(x),o[m].c(),o[m].m(d.parentNode,d))}for(;m<o.length;m+=1)o[m].d(1);o.length=f.length}},d(v){v&&(h(t),h(s),h(d)),qe(o,v),u=!1,r()}}}function Oe(n){let t,e,s,d=n[38]+"",u,r,f,o;function v(){return n[24](n[38])}return{c(){t=i("button"),e=i("div"),s=Dt("#"),u=Dt(d),r=D(),this.h()},l(g){t=c(g,"BUTTON",{class:!0});var m=p(t);e=c(m,"DIV",{class:!0});var x=p(e);s=Et(x,"#"),u=Et(x,d),x.forEach(h),r=E(m),m.forEach(h),this.h()},h(){l(e,"class","text-xs font-medium self-center line-clamp-1"),l(t,"class","px-2 py-0.5 space-x-1 flex h-fit items-center rounded-full transition bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:text-white")},m(g,m){at(g,t,m),a(t,e),a(e,s),a(e,u),a(t,r),f||(o=K(t,"click",v),f=!0)},p(g,m){n=g,m[0]&32&&d!==(d=n[38]+"")&&Jt(u,d)},d(g){g&&h(t),f=!1,o()}}}function Sl(n){let t,e,s,d,u,r;return{c(){t=Mt("svg"),e=Mt("style"),s=Dt(`.spinner_qM83 {
													animation: spinner_8HQG 1.05s infinite;
												}
												.spinner_oXPr {
													animation-delay: 0.1s;
												}
												.spinner_ZTLf {
													animation-delay: 0.2s;
												}
												@keyframes spinner_8HQG {
													0%,
													57.14% {
														animation-timing-function: cubic-bezier(0.33, 0.66, 0.66, 1);
														transform: translate(0);
													}
													28.57% {
														animation-timing-function: cubic-bezier(0.33, 0, 0.66, 0.33);
														transform: translateY(-6px);
													}
													100% {
														transform: translate(0);
													}
												}
											`),d=Mt("circle"),u=Mt("circle"),r=Mt("circle"),this.h()},l(f){t=Lt(f,"svg",{class:!0,fill:!0,viewBox:!0,xmlns:!0});var o=p(t);e=Lt(o,"style",{});var v=p(e);s=Et(v,`.spinner_qM83 {
													animation: spinner_8HQG 1.05s infinite;
												}
												.spinner_oXPr {
													animation-delay: 0.1s;
												}
												.spinner_ZTLf {
													animation-delay: 0.2s;
												}
												@keyframes spinner_8HQG {
													0%,
													57.14% {
														animation-timing-function: cubic-bezier(0.33, 0.66, 0.66, 1);
														transform: translate(0);
													}
													28.57% {
														animation-timing-function: cubic-bezier(0.33, 0, 0.66, 0.33);
														transform: translateY(-6px);
													}
													100% {
														transform: translate(0);
													}
												}
											`),v.forEach(h),d=Lt(o,"circle",{class:!0,cx:!0,cy:!0,r:!0}),p(d).forEach(h),u=Lt(o,"circle",{class:!0,cx:!0,cy:!0,r:!0}),p(u).forEach(h),r=Lt(o,"circle",{class:!0,cx:!0,cy:!0,r:!0}),p(r).forEach(h),o.forEach(h),this.h()},h(){l(d,"class","spinner_qM83"),l(d,"cx","4"),l(d,"cy","12"),l(d,"r","2.5"),l(u,"class","spinner_qM83 spinner_oXPr"),l(u,"cx","12"),l(u,"cy","12"),l(u,"r","2.5"),l(r,"class","spinner_qM83 spinner_ZTLf"),l(r,"cx","20"),l(r,"cy","12"),l(r,"r","2.5"),l(t,"class","w-6 h-6 translate-y-[0.5px]"),l(t,"fill","currentColor"),l(t,"viewBox","0 0 24 24"),l(t,"xmlns","http://www.w3.org/2000/svg")},m(f,o){at(f,t,o),a(t,e),a(e,s),a(t,d),a(t,u),a(t,r)},d(f){f&&h(t)}}}function Bl(n){let t,e,s;return{c(){t=Mt("svg"),e=Mt("path"),s=Mt("path"),this.h()},l(d){t=Lt(d,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var u=p(t);e=Lt(u,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),p(e).forEach(h),s=Lt(u,"path",{d:!0}),p(s).forEach(h),u.forEach(h),this.h()},h(){l(e,"fill-rule","evenodd"),l(e,"d","M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625ZM7.5 15a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 7.5 15Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H8.25Z"),l(e,"clip-rule","evenodd"),l(s,"d","M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"),l(t,"xmlns","http://www.w3.org/2000/svg"),l(t,"viewBox","0 0 24 24"),l(t,"fill","currentColor"),l(t,"class","w-6 h-6")},m(d,u){at(d,t,u),a(t,e),a(t,s)},d(d){d&&h(t)}}}function Ue(n){var L;let t,e,s,d,u,r,f,o,v,g,m,x=n[35].name+"",y,k,w=n[35].filename+"",H,N,I,C,M=n[35].title+"",O,ct,G,A,V='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"></path></svg>',S,z,J='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"></path></svg>',Z,U,it,R;s=new Ye({props:{state:((L=n[35])==null?void 0:L.selected)??"unchecked"}});function Q(T,B){return T[35]?Bl:Sl}let X=Q(n),F=X(n);function tt(...T){return n[26](n[35],...T)}function rt(...T){return n[27](n[35],...T)}function _(){return n[28](n[35],n[36],n[37])}return{c(){t=i("button"),e=i("div"),Ht(s.$$.fragment),d=D(),u=i("div"),r=i("div"),f=i("div"),F.c(),o=D(),v=i("div"),g=i("div"),m=Dt("#"),y=Dt(x),k=Dt(" ("),H=Dt(w),N=Dt(")"),I=D(),C=i("div"),O=Dt(M),ct=D(),G=i("div"),A=i("button"),A.innerHTML=V,S=D(),z=i("button"),z.innerHTML=J,Z=D(),this.h()},l(T){t=c(T,"BUTTON",{class:!0});var B=p(t);e=c(B,"DIV",{class:!0});var lt=p(e);St(s.$$.fragment,lt),lt.forEach(h),d=E(B),u=c(B,"DIV",{class:!0});var P=p(u);r=c(P,"DIV",{class:!0});var j=p(r);f=c(j,"DIV",{class:!0});var et=p(f);F.l(et),et.forEach(h),o=E(j),v=c(j,"DIV",{class:!0});var gt=p(v);g=c(gt,"DIV",{class:!0});var Y=p(g);m=Et(Y,"#"),y=Et(Y,x),k=Et(Y," ("),H=Et(Y,w),N=Et(Y,")"),Y.forEach(h),I=E(gt),C=c(gt,"DIV",{class:!0});var ft=p(C);O=Et(ft,M),ft.forEach(h),gt.forEach(h),j.forEach(h),P.forEach(h),ct=E(B),G=c(B,"DIV",{class:!0});var dt=p(G);A=c(dt,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),$(A)!=="svelte-mdhrvt"&&(A.innerHTML=V),S=E(dt),z=c(dt,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),$(z)!=="svelte-smh81r"&&(z.innerHTML=J),dt.forEach(h),Z=E(B),B.forEach(h),this.h()},h(){l(e,"class","my-auto flex items-center"),l(f,"class","p-2.5 bg-red-400 text-white rounded-lg"),l(g,"class","font-bold line-clamp-1"),l(C,"class","text-xs overflow-hidden text-ellipsis line-clamp-1"),l(v,"class","self-center flex-1"),l(r,"class","flex items-center space-x-3"),l(u,"class","flex flex-1 space-x-4 cursor-pointer w-full"),l(A,"class","self-center w-fit text-sm z-20 px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),l(A,"type","button"),l(z,"class","self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),l(z,"type","button"),l(G,"class","flex flex-row space-x-1 self-center"),l(t,"class","flex space-x-4 cursor-pointer text-left w-full px-3 py-2 dark:hover:bg-white/5 hover:bg-black/5 rounded-xl")},m(T,B){at(T,t,B),a(t,e),Bt(s,e,null),a(t,d),a(t,u),a(u,r),a(r,f),F.m(f,null),a(r,o),a(r,v),a(v,g),a(g,m),a(g,y),a(g,k),a(g,H),a(g,N),a(v,I),a(v,C),a(C,O),a(t,ct),a(t,G),a(G,A),a(G,S),a(G,z),a(t,Z),U=!0,it||(R=[K(A,"click",tt),K(z,"click",rt),K(t,"click",_)],it=!0)},p(T,B){var P;n=T;const lt={};B[0]&2048&&(lt.state=((P=n[35])==null?void 0:P.selected)??"unchecked"),s.$set(lt),X!==(X=Q(n))&&(F.d(1),F=X(n),F&&(F.c(),F.m(f,null))),(!U||B[0]&2048)&&x!==(x=n[35].name+"")&&Jt(y,x),(!U||B[0]&2048)&&w!==(w=n[35].filename+"")&&Jt(H,w),(!U||B[0]&2048)&&M!==(M=n[35].title+"")&&Jt(O,M)},i(T){U||(ot(s.$$.fragment,T),U=!0)},o(T){mt(s.$$.fragment,T),U=!1},d(T){T&&h(t),Nt(s),F.d(),it=!1,ne(R)}}}function Nl(n){let t,e,s,d=n[9],u,r,f,o,v,g,m,x,y,k,w,H,N,I="My Documents",C,M,O,ct='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M6.955 1.45A.5.5 0 0 1 7.452 1h1.096a.5.5 0 0 1 .497.45l.17 1.699c.484.12.94.312 1.356.562l1.321-1.081a.5.5 0 0 1 .67.033l.774.775a.5.5 0 0 1 .034.67l-1.08 1.32c.25.417.44.873.561 1.357l1.699.17a.5.5 0 0 1 .45.497v1.096a.5.5 0 0 1-.45.497l-1.699.17c-.12.484-.312.94-.562 1.356l1.082 1.322a.5.5 0 0 1-.034.67l-.774.774a.5.5 0 0 1-.67.033l-1.322-1.08c-.416.25-.872.44-1.356.561l-.17 1.699a.5.5 0 0 1-.497.45H7.452a.5.5 0 0 1-.497-.45l-.17-1.699a4.973 4.973 0 0 1-1.356-.562L4.108 13.37a.5.5 0 0 1-.67-.033l-.774-.775a.5.5 0 0 1-.034-.67l1.08-1.32a4.971 4.971 0 0 1-.561-1.357l-1.699-.17A.5.5 0 0 1 1 8.548V7.452a.5.5 0 0 1 .45-.497l1.699-.17c.12-.484.312-.94.562-1.356L2.629 4.107a.5.5 0 0 1 .034-.67l.774-.774a.5.5 0 0 1 .67-.033L5.43 3.71a4.97 4.97 0 0 1 1.356-.561l.17-1.699ZM6 8c0 .538.212 1.026.558 1.385l.057.057a2 2 0 0 0 2.828-2.828l-.058-.056A2 2 0 0 0 6 8Z" clip-rule="evenodd"></path></svg> <div class="text-xs">Document Settings</div>',G,A,V="â“˜ Use '#' in the prompt input to load and select your documents.",S,z,J,Z,U='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',it,R,Q,X,F,tt='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"></path></svg>',rt,_,L,T,B,lt,P,j,et,gt,Y,ft='<div class="self-center mr-2 font-medium">Import Documents Mapping</div> <div class="self-center"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z" clip-rule="evenodd"></path></svg></div>',dt,xt,At='<div class="self-center mr-2 font-medium">Export Documents Mapping</div> <div class="self-center"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z" clip-rule="evenodd"></path></svg></div>',pt,bt,kt;pe.title=t=`
		Documents | ${n[12]}
	`;let ht=n[10]&&Ne(n),wt=Ae(n);function $t(b){n[17](b)}let yt={};n[7]!==void 0&&(yt.show=n[7]),r=new Vl({props:yt}),Zt.push(()=>se(r,"show",$t));function oe(b){n[18](b)}let zt={};n[6]!==void 0&&(zt.show=n[6]),v=new yl({props:zt}),Zt.push(()=>se(v,"show",oe));let st=n[5].length>0&&je(n),Pt=me(n[11]),nt=[];for(let b=0;b<Pt.length;b+=1)nt[b]=Ue(Se(n,Pt,b));const jt=b=>mt(nt[b],1,1,()=>{nt[b]=null});return{c(){e=D(),ht&&ht.c(),s=D(),wt.c(),u=D(),Ht(r.$$.fragment),o=D(),Ht(v.$$.fragment),m=D(),x=i("div"),y=i("div"),k=i("div"),w=i("div"),H=i("div"),N=i("div"),N.textContent=I,C=D(),M=i("div"),O=i("button"),O.innerHTML=ct,G=D(),A=i("div"),A.textContent=V,S=D(),z=i("div"),J=i("div"),Z=i("div"),Z.innerHTML=U,it=D(),R=i("input"),Q=D(),X=i("div"),F=i("button"),F.innerHTML=tt,rt=D(),_=i("hr"),L=D(),st&&st.c(),T=D(),B=i("div");for(let b=0;b<nt.length;b+=1)nt[b].c();lt=D(),P=i("div"),j=i("div"),et=i("input"),gt=D(),Y=i("button"),Y.innerHTML=ft,dt=D(),xt=i("button"),xt.innerHTML=At,this.h()},l(b){We("svelte-1jyvne9",pe.head).forEach(h),e=E(b),ht&&ht.l(b),s=E(b),wt.l(b),u=E(b),St(r.$$.fragment,b),o=E(b),St(v.$$.fragment,b),m=E(b),x=c(b,"DIV",{class:!0});var Ct=p(x);y=c(Ct,"DIV",{class:!0});var Rt=p(y);k=c(Rt,"DIV",{class:!0});var W=p(k);w=c(W,"DIV",{class:!0});var ut=p(w);H=c(ut,"DIV",{class:!0});var vt=p(H);N=c(vt,"DIV",{class:!0,"data-svelte-h":!0}),$(N)!=="svelte-z8eqhm"&&(N.textContent=I),C=E(vt),M=c(vt,"DIV",{});var _t=p(M);O=c(_t,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),$(O)!=="svelte-1kwaowx"&&(O.innerHTML=ct),_t.forEach(h),vt.forEach(h),G=E(ut),A=c(ut,"DIV",{class:!0,"data-svelte-h":!0}),$(A)!=="svelte-41li7w"&&(A.textContent=V),ut.forEach(h),S=E(W),z=c(W,"DIV",{class:!0});var Ot=p(z);J=c(Ot,"DIV",{class:!0});var qt=p(J);Z=c(qt,"DIV",{class:!0,"data-svelte-h":!0}),$(Z)!=="svelte-kinl2y"&&(Z.innerHTML=U),it=E(qt),R=c(qt,"INPUT",{class:!0,placeholder:!0}),qt.forEach(h),Q=E(Ot),X=c(Ot,"DIV",{});var Qt=p(X);F=c(Qt,"BUTTON",{class:!0,"data-svelte-h":!0}),$(F)!=="svelte-1mfes9a"&&(F.innerHTML=tt),Qt.forEach(h),Ot.forEach(h),rt=E(W),_=c(W,"HR",{class:!0}),L=E(W),st&&st.l(W),T=E(W),B=c(W,"DIV",{class:!0});var Xt=p(B);for(let Gt=0;Gt<nt.length;Gt+=1)nt[Gt].l(Xt);Xt.forEach(h),lt=E(W),P=c(W,"DIV",{class:!0});var Yt=p(P);j=c(Yt,"DIV",{class:!0});var Tt=p(j);et=c(Tt,"INPUT",{id:!0,type:!0,accept:!0}),gt=E(Tt),Y=c(Tt,"BUTTON",{class:!0,"data-svelte-h":!0}),$(Y)!=="svelte-g8msjz"&&(Y.innerHTML=ft),dt=E(Tt),xt=c(Tt,"BUTTON",{class:!0,"data-svelte-h":!0}),$(xt)!=="svelte-1gdyd1"&&(xt.innerHTML=At),Tt.forEach(h),Yt.forEach(h),W.forEach(h),Rt.forEach(h),Ct.forEach(h),this.h()},h(){l(N,"class","text-2xl font-semibold self-center"),l(O,"class","flex items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 transition"),l(O,"type","button"),l(H,"class","flex justify-between items-center"),l(A,"class","text-gray-500 text-xs mt-1"),l(w,"class","mb-6"),l(Z,"class","self-center ml-1 mr-3"),l(R,"class","w-full text-sm pr-4 py-1 rounded-r-xl outline-none bg-transparent"),l(R,"placeholder","Search Document"),l(J,"class","flex flex-1"),l(F,"class","px-2 py-2 rounded-xl border border-gray-200 dark:border-gray-600 dark:border-0 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 transition font-medium text-sm flex items-center space-x-1"),l(z,"class","flex w-full space-x-2"),l(_,"class","dark:border-gray-700 my-2.5"),l(B,"class","my-3 mb-5"),l(et,"id","documents-import-input"),l(et,"type","file"),l(et,"accept",".json"),et.hidden=!0,l(Y,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),l(xt,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),l(j,"class","flex space-x-2"),l(P,"class","flex justify-end w-full mb-2"),l(k,"class","max-w-2xl mx-auto w-full px-3 md:px-0 my-10"),l(y,"class","flex flex-col justify-between w-full overflow-y-auto"),l(x,"class","min-h-screen max-h-[100dvh] w-full flex justify-center dark:text-white")},m(b,q){at(b,e,q),ht&&ht.m(b,q),at(b,s,q),wt.m(b,q),at(b,u,q),Bt(r,b,q),at(b,o,q),Bt(v,b,q),at(b,m,q),at(b,x,q),a(x,y),a(y,k),a(k,w),a(w,H),a(H,N),a(H,C),a(H,M),a(M,O),a(w,G),a(w,A),a(k,S),a(k,z),a(z,J),a(J,Z),a(J,it),a(J,R),It(R,n[0]),a(z,Q),a(z,X),a(X,F),a(k,rt),a(k,_),a(k,L),st&&st.m(k,null),a(k,T),a(k,B);for(let Ct=0;Ct<nt.length;Ct+=1)nt[Ct]&&nt[Ct].m(B,null);a(k,lt),a(k,P),a(P,j),a(j,et),n[29](et),a(j,gt),a(j,Y),a(j,dt),a(j,xt),pt=!0,bt||(kt=[K(O,"click",n[19]),K(R,"input",n[20]),K(F,"click",n[21]),K(et,"change",n[30]),K(et,"change",n[31]),K(Y,"click",n[32]),K(xt,"click",n[33])],bt=!0)},p(b,q){(!pt||q[0]&4096)&&t!==(t=`
		Documents | ${b[12]}
	`)&&(pe.title=t),b[10]?ht?q[0]&1024&&ot(ht,1):(ht=Ne(b),ht.c(),ot(ht,1),ht.m(s.parentNode,s)):ht&&(ie(),mt(ht,1,1,()=>{ht=null}),ce()),q[0]&512&&Kt(d,d=b[9])?(ie(),mt(wt,1,1,Wt),ce(),wt=Ae(b),wt.c(),ot(wt,1),wt.m(u.parentNode,u)):wt.p(b,q);const Ct={};!f&&q[0]&128&&(f=!0,Ct.show=b[7],le(()=>f=!1)),r.$set(Ct);const Rt={};if(!g&&q[0]&64&&(g=!0,Rt.show=b[6],le(()=>g=!1)),v.$set(Rt),q[0]&1&&R.value!==b[0]&&It(R,b[0]),b[5].length>0?st?(st.p(b,q),q[0]&32&&ot(st,1)):(st=je(b),st.c(),ot(st,1),st.m(k,T)):st&&(ie(),mt(st,1,1,()=>{st=null}),ce()),q[0]&19200){Pt=me(b[11]);let W;for(W=0;W<Pt.length;W+=1){const ut=Se(b,Pt,W);nt[W]?(nt[W].p(ut,q),ot(nt[W],1)):(nt[W]=Ue(ut),nt[W].c(),ot(nt[W],1),nt[W].m(B,null))}for(ie(),W=Pt.length;W<nt.length;W+=1)jt(W);ce()}},i(b){if(!pt){ot(ht),ot(wt),ot(r.$$.fragment,b),ot(v.$$.fragment,b),ot(st);for(let q=0;q<Pt.length;q+=1)ot(nt[q]);pt=!0}},o(b){mt(ht),mt(wt),mt(r.$$.fragment,b),mt(v.$$.fragment,b),mt(st),nt=nt.filter(Boolean);for(let q=0;q<nt.length;q+=1)mt(nt[q]);pt=!1},d(b){b&&(h(e),h(s),h(u),h(o),h(m),h(x)),ht&&ht.d(b),wt.d(b),Nt(r,b),Nt(v,b),st&&st.d(),qe(nt,b),n[29](null),bt=!1,ne(kt)}}}const Al=n=>(n==null?void 0:n.selected)==="checked",ze=n=>(n==null?void 0:n.selected)==="checked",Pe=n=>(n==null?void 0:n.selected)==="checked",Fe=n=>(n==null?void 0:n.selected)==="checked",Re=n=>(n==null?void 0:n.selected)==="checked";function jl(n,t,e){let s,d;Ce(n,Vt,_=>e(2,s=_)),Ce(n,el,_=>e(12,d=_));const{saveAs:u}=tl;let r="",f="",o,v=[],g=!1,m=!1,x=!1,y,k="",w=!1;const H=async _=>{await Me(localStorage.token,_),await Vt.set(await Ft(localStorage.token))},N=async _=>{await Promise.all(_.map(async L=>await Me(localStorage.token,L.name))),await Vt.set(await Ft(localStorage.token))},I=async _=>{const L=await Ze(localStorage.token,"",_).catch(T=>(Ut.error(T),null));L&&(await _e(localStorage.token,L.collection_name,L.filename,Qe(L.filename),L.filename).catch(T=>(Ut.error(T),null)),await Vt.set(await Ft(localStorage.token)))};ge(()=>{Vt.subscribe(lt=>{e(5,v=lt.reduce((P,j,et,gt)=>{var Y;return[...new Set([...P,...(((Y=j==null?void 0:j.content)==null?void 0:Y.tags)??[]).map(ft=>ft.name)])]},[]))});const _=document.querySelector("body"),L=lt=>{lt.preventDefault(),e(10,w=!0)},T=()=>{e(10,w=!1)},B=async lt=>{var P,j;if(lt.preventDefault(),console.log(lt),(P=lt.dataTransfer)!=null&&P.files){let et=new FileReader;et.onload=Y=>{files=[...files,{type:"image",url:`${Y.target.result}`}]};const gt=(j=lt.dataTransfer)==null?void 0:j.files;if(gt&&gt.length>0)for(const Y of gt)console.log(Y,Y.name.split(".").at(-1)),$e.includes(Y.type)||Ge.includes(Y.name.split(".").at(-1))||Ut.error(`Unknown File Type '${Y.type}', but accepting and treating as plain text`),I(Y);else Ut.error("File not found.")}e(10,w=!1)};return _==null||_.addEventListener("dragover",L),_==null||_.addEventListener("drop",B),_==null||_.addEventListener("dragleave",T),()=>{_==null||_.removeEventListener("dragover",L),_==null||_.removeEventListener("drop",B),_==null||_.removeEventListener("dragleave",T)}});let C;function M(_){x=_,e(8,x)}function O(_){m=_,e(7,m)}function ct(_){g=_,e(6,g)}const G=()=>{e(6,g=!g)};function A(){f=this.value,e(0,f)}const V=()=>{e(7,m=!0)},S=_=>{_.detail==="checked"?e(11,C=C.map(L=>({...L,selected:"checked"}))):_.detail==="unchecked"&&e(11,C=C.map(L=>({...L,selected:"unchecked"})))},z=async()=>{e(1,k="")},J=async _=>{e(1,k=_)},Z=async()=>{N(C.filter(_=>_.selected==="checked"))},U=async(_,L)=>{L.stopPropagation(),e(8,x=!x),e(9,y=_)},it=(_,L)=>{L.stopPropagation(),H(_.name)},R=(_,L,T)=>{(_==null?void 0:_.selected)==="checked"?e(11,L[T].selected="unchecked",C):e(11,L[T].selected="checked",C)};function Q(_){Zt[_?"unshift":"push"](()=>{o=_,e(4,o)})}function X(){r=this.files,e(3,r)}const F=()=>{console.log(r);const _=new FileReader;_.onload=async L=>{const T=JSON.parse(L.target.result);console.log(T);for(const B of T)await _e(localStorage.token,B.collection_name,B.filename,B.name,B.title).catch(lt=>(Ut.error(lt),null));await Vt.set(await Ft(localStorage.token))},_.readAsText(r[0])},tt=()=>{o.click()},rt=async()=>{let _=new Blob([JSON.stringify(s)],{type:"application/json"});u(_,`documents-mapping-export-${Date.now()}.json`)};return n.$$.update=()=>{n.$$.dirty[0]&7&&e(11,C=s.filter(_=>{var L;return(k===""||(((L=_==null?void 0:_.content)==null?void 0:L.tags)??[]).map(T=>T.name).includes(k))&&(f===""||_.name.includes(f))}))},[f,k,s,r,o,v,g,m,x,y,w,C,d,u,H,N,M,O,ct,G,A,V,S,z,J,Z,U,it,R,Q,X,F,tt,rt]}class Jl extends ae{constructor(t){super(),re(this,t,jl,Nl,Kt,{},null,[-1,-1])}}export{Jl as component};
